<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400" width="100%" height="380">
  <style>
    .node { fill: #3c8dbc; stroke: #2c6da0; stroke-width: 2; rx: 15; ry: 15; }
    .node-text { fill: white; font-family: Arial; font-size: 14px; text-anchor: middle; dominant-baseline: middle; }
    .edge { stroke: #2c6da0; stroke-width: 2; marker-end: url(#arrow); }
    .edge-text { fill: #2c6da0; font-family: Arial; font-size: 12px; text-anchor: middle; }
    .main-node { fill: #00a65a; stroke: #008d4c; stroke-width: 2; }
    .title-text { font-family: Arial; font-size: 18px; font-weight: bold; text-anchor: middle; fill: #3c8dbc; }
  </style>
  <!-- 定义箭头 -->
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="6" markerHeight="6" orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#2c6da0"/>
    </marker>
  </defs>
  <!-- 标题 -->
  <text class="title-text" x="400" y="30">dplyr包核心函数知识图谱</text>
  
  <!-- 核心节点 - dplyr -->
  <rect class="node main-node" x="350" y="80" width="100" height="50"/>
  <text class="node-text" x="400" y="105">dplyr</text>
  
  <!-- 核心函数节点 -->
  <!-- select -->
  <rect class="node" x="100" y="180" width="100" height="50"/>
  <text class="node-text" x="150" y="205">select()</text>
  <line class="edge" x1="350" y1="105" x2="200" y2="180"/>
  <text class="edge-text" x="255" y="135">选择列</text>
  
  <!-- filter -->
  <rect class="node" x="250" y="180" width="100" height="50"/>
  <text class="node-text" x="300" y="205">filter()</text>
  <line class="edge" x1="380" y1="130" x2="320" y2="180"/>
  <text class="edge-text" x="330" y="160">筛选行</text>
  
  <!-- mutate -->
  <rect class="node" x="400" y="180" width="100" height="50"/>
  <text class="node-text" x="450" y="205">mutate()</text>
  <line class="edge" x1="420" y1="130" x2="440" y2="180"/>
  <text class="edge-text" x="460" y="155">创建新变量</text>
  
  <!-- summarise -->
  <rect class="node" x="550" y="180" width="100" height="50"/>
  <text class="node-text" x="600" y="205">summarise()</text>
  <line class="edge" x1="450" y1="105" x2="550" y2="180"/>
  <text class="edge-text" x="520" y="135">汇总数据</text>
  
  <!-- arrange -->
  <rect class="node" x="50" y="280" width="100" height="50"/>
  <text class="node-text" x="100" y="305">arrange()</text>
  <line class="edge" x1="150" y1="230" x2="125" y2="280"/>
  <text class="edge-text" x="110" y="255">排序</text>
  
  <!-- group_by -->
  <rect class="node" x="200" y="280" width="100" height="50"/>
  <text class="node-text" x="250" y="305">group_by()</text>
  <line class="edge" x1="300" y1="230" x2="275" y2="280"/>
  <text class="edge-text" x="260" y="255">分组</text>
  
  <!-- join -->
  <rect class="node" x="350" y="280" width="100" height="50"/>
  <text class="node-text" x="400" y="305">join家族</text>
  <line class="edge" x1="450" y1="230" x2="425" y2="280"/>
  <text class="edge-text" x="410" y="255">合并表</text>
  
  <!-- bind -->
  <rect class="node" x="500" y="280" width="100" height="50"/>
  <text class="node-text" x="550" y="305">bind家族</text>
  <line class="edge" x1="600" y1="230" x2="575" y2="280"/>
  <text class="edge-text" x="560" y="255">绑定行/列</text>
  
  <!-- 连接关系 -->
  <line class="edge" x1="250" y1="305" x2="350" y2="305"/>
  <line class="edge" x1="550" y1="230" x2="600" y2="280"/>
  <rect class="node" x="650" y="280" width="100" height="50"/>
  <text class="node-text" x="700" y="305">across()</text>
  <line class="edge" x1="650" y1="205" x2="670" y2="280"/>
  <text class="edge-text" x="680" y="240">跨列操作</text>
</svg> 