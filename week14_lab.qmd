---
title: "第十四周实验：Capstone 项目工作坊准备"
author: "Your Name / TA Name"
format:
  html:
    toc: true
    code-fold: false
editor: visual
---

## 1. 目标

本“实验”旨在帮助你为本周的 Capstone 项目工作坊做好准备。你需要整理你在项目中遇到的具体问题、相关的代码和数据，以便在工作坊期间高效地寻求帮助和进行讨论。

-   明确你在 Capstone 项目中遇到的**最关键的 1-2 个问题或挑战**。
-   准备好能够**清晰展示问题**的相关 R 代码片段（最好放在 Quarto/Rmd 文件中）。
-   准备好（必要的、脱敏后的）数据，以便他人能够理解或运行你的代码。
-   能够简要口头阐述你的研究问题、分析思路以及遇到的具体困难。

## 2. 问题梳理

请仔细回顾你到目前为止的 Capstone 项目进展，思考在以下方面是否遇到了困难：

-   **数据层面:**
    -   数据导入或合并问题？
    -   难以处理的缺失值或异常值？
    -   变量类型转换或因子处理不确定？
    -   需要创建复杂的新特征变量但不知如何下手？
    -   数据不“整洁”，难以使用 `tidyverse` 处理？
-   **探索性分析 (EDA) 层面:**
    -   不确定用什么图来探索特定变量或关系？
    -   难以解读可视化结果中的模式或异常？
    -   图表不清晰或信息过载？
-   **模型构建与选择层面:**
    -   不确定选择哪种统计模型（t-检验, ANOVA, 卡方, 回归, Logistic 等）？
    -   如何选择合适的自变量纳入模型？
    -   模型公式 (`lm`, `glm`) 如何书写？
    -   是否需要以及如何添加交互项？
    -   如何在多个模型间进行选择（AIC/BIC 等指标如何使用）？
-   **模型诊断层面:**
    -   看不懂 `plot(model)` 的诊断图？
    -   如何判断是否违反 L.I.N.E. 假设？
    -   VIF 值很高怎么办？
    -   发现了强影响点 (Cook's D 大) 不知道如何处理？
-   **模型改进层面:**
    -   尝试了变量变换但效果不佳？
    -   移除了变量或影响点后结果变化很大，不知如何是好？
-   **结果解释层面:**
    -   不确定如何解释回归系数（特别是偏回归系数、交互项、对数变换后）或优势比？
    -   如何区分统计显著性和实际重要性？
    -   如何用通俗语言总结统计结果？
-   **Quarto/R Markdown 层面:**
    -   代码块选项设置问题？
    -   表格或图形显示不美观？
    -   渲染出错？

**任务:** 请在下面列出你目前认为**最需要帮助解决的 1-2 个具体问题**。

1.  **问题一:** (请详细描述)
    -   *例如：我的多元线性回归模型的残差图显示出明显的非线性模式，尝试对因变量取对数后改善不明显，我应该考虑哪些其他方法？*
    -   *例如：我想比较三个不同用户群体的平均购买金额，ANOVA 结果显著，但 TukeyHSD 显示所有组间差异都不显著，这是为什么以及如何解释？*
    -   *例如：Logistic 回归中有一个分类自变量（职业，有 5 个类别），我应该如何解释每个类别相对于参照组的优势比？*
2.  **问题二:** (请详细描述)
    -   *例如：我的两个自变量 VIF 值都超过了 20，移除哪个更合适？或者有其他处理方法吗？*
    -   *例如：如何使用 ggplot2 创建一个散点图，其中点的大小表示一个变量，颜色表示另一个分类变量，并添加分组的回归线？*

## 3. 代码与数据准备

**任务:** 1. **整理相关代码:** 将与你上述问题**直接相关**的 R 代码片段整理出来。最好将它们放在一个 Quarto (`.qmd`) 或 R Markdown (`.Rmd`) 文件中，并添加必要的注释说明代码的目的。确保代码尽量简洁且可运行（至少在你自己的环境中）。 2. **准备数据:** \* 如果你的问题需要运行代码才能演示，确保相关数据可以被加载。 \* 如果需要在工作坊上分享数据，请使用**小部分、可公开或已脱敏**的数据。可以使用 `dput()` 函数生成数据的 R 代码表示，或者准备一个小的 CSV 文件。 \* **切勿**在公共场合分享任何敏感或机密数据！

**示例代码块 (用于展示问题):**

```{r problem-example-code, eval=FALSE}
# --- 问题一：非线性残差 ---
library(tidyverse)
library(ggplot2)
library(broom)

# 假设这是你的数据和模型
# my_data <- ...
# my_model <- lm(y ~ x1 + x2, data = my_data)

# 生成诊断数据
# diag_data <- augment(my_model)

# 绘制残差图 (显示非线性)
# ggplot(diag_data, aes(x = .fitted, y = .resid)) +
#   geom_point() +
#   geom_smooth(se = FALSE) +
#   geom_hline(yintercept = 0, color = 'red', linetype = 'dashed') +
#   labs(title = "Residuals vs Fitted (Non-linear pattern observed)")

# 尝试对 Y 取对数 (假设效果不佳)
# my_model_logy <- lm(log(y) ~ x1 + x2, data = my_data)
# plot(my_model_logy) # 假设诊断图改善不明显

# 我的问题是：除了对数变换，还有哪些方法可以处理这种非线性？是否应该考虑添加 x1 或 x2 的平方项？
```

## 4. 阐述准备

**任务:** 准备好用 **1-2 分钟**的时间，简要地口头阐述： \* 你的 Capstone 项目研究问题是什么？ \* 你使用了什么数据？ \* 你采取了哪些主要的分析步骤？ \* 你当前遇到的具体问题是什么（即你在第 2 部分梳理的问题）？ \* 你已经尝试了哪些解决方法（如果有）？

## 5. 实验总结

本周的“实验”是一个准备环节。通过梳理问题、整理代码和数据，并准备好清晰地阐述你的困难，你将能够更有效地利用工作坊的时间获得帮助，推动你的 Capstone 项目前进。请务必认真完成准备工作！